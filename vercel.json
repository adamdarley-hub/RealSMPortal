{
  "buildCommand": "npm run build:client",
  "outputDirectory": "dist/spa",
  "devCommand": "npm run dev",
  "build": {
    "env": {
      "NODE_VERSION": "20"
    }
  },
  "functions": {
    "api/[...path].ts": {
      "runtime": "nodejs20.x"
    },
    "api/*.ts": {
      "runtime": "nodejs20.x"
    }
  },
  "rewrites": [
    { "source": "/api/jobs", "destination": "/api/jobs" },
    { "source": "/api/clients", "destination": "/api/clients" },
    { "source": "/api/servers", "destination": "/api/servers" },
    { "source": "/api/ping", "destination": "/api/ping" },
    { "source": "/api/sync", "destination": "/api/sync" },
    { "source": "/api/sync/status", "destination": "/api/sync" },
    { "source": "/api/(.*)", "destination": "/api/[...path]" },
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
